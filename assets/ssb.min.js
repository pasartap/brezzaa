!function(e,n,t){var r=function(){function t(e,t,r){var s=n.createElement(e);return s.className=t,!!r&&(s.textContent=r),s}function r(e){var n=t("P",a.item),r="<a href='"+e.url+"'>"+e.title+"</a>";return n.innerHTML=r,n}function s(n){function s(e,t){"before"===e||"after"===e||"noResults"===e?c[e]=function(){return t.call(null,n)}:"success"===e||"failure"===e?c[e]=function(e){return t.call(null,n,e)}:"displayItem"===e&&(c[e]=t)}function i(e,n){var t;"noResults"===e?t=u:"searchFailure"===e&&(t=l),t.textContent=n}var u=t("P",a.failure,o.noResults),l=t("P",a.failure,o.searchFailure),c=e.Object.create({clear:function(){n.innerHTML=""},displayResults:function(e){e.results.length<1?c.noResults():c.displayItems(e.results)},displayItems:function(e){e.forEach(c.displayItem)},displayItem:function(e){n.appendChild(r(e))},failure:function(t){e.console.warn(t),n.appendChild(l)},noResults:function(){n.appendChild(u)},setCallback:s,setMessage:i});return c}var o={noResults:"No results were found.",searchFailure:"Sorry, something went wrong."},a={failure:"ssb-failure",item:"ssb-item"};return{"new":s}}(),s=["a","about","above","across","after","again","against","all","almost","alone","along","already","also","although","always","among","an","and","another","any","anybody","anyone","anything","anywhere","are","area","areas","around","as","ask","asked","asking","asks","at","away","b","back","backed","backing","backs","be","became","because","become","becomes","been","before","began","behind","being","beings","best","better","between","big","both","but","by","c","came","can","cannot","case","cases","certain","certainly","clear","clearly","come","could","d","did","differ","different","differently","do","does","done","down","downed","downing","downs","during","e","each","early","either","end","ended","ending","ends","enough","even","evenly","ever","every","everybody","everyone","everything","everywhere","f","face","faces","fact","facts","far","felt","few","find","finds","first","for","four","from","full","fully","further","furthered","furthering","furthers","g","gave","general","generally","get","gets","give","given","gives","go","going","good","goods","got","great","greater","greatest","group","grouped","grouping","groups","h","had","has","have","having","he","her","here","herself","high","high","high","higher","highest","him","himself","his","how","however","i","if","important","in","interest","interested","interesting","interests","into","is","it","its","itself","j","just","k","keep","keeps","kind","knew","know","known","knows","l","large","largely","last","later","latest","least","less","let","lets","like","likely","longer","longest","m","make","making","man","may","me","member","members","men","might","more","most","mostly","mr","mrs","much","must","my","myself","n","necessary","need","needed","needing","needs","never","new","new","newer","newest","next","no","nobody","non","noone","not","nothing","now","nowhere","number","numbers","o","of","off","often","old","older","oldest","on","once","one","only","open","opened","opening","opens","or","other","others","our","out","over","p","part","parted","parting","parts","per","perhaps","place","places","point","pointed","pointing","points","possible","present","presented","presenting","presents","problem","problems","put","puts","q","quite","r","rather","really","right","right","room","rooms","s","said","same","saw","say","says","second","seconds","see","seem","seemed","seeming","seems","sees","several","shall","she","should","show","showed","showing","shows","side","sides","since","small","smaller","smallest","so","some","somebody","someone","something","somewhere","state","states","still","still","such","sure","t","take","taken","than","that","the","their","them","then","there","therefore","these","they","thing","things","think","thinks","this","those","though","thought","thoughts","three","through","thus","to","today","together","too","took","toward","turn","turned","turning","turns","two","u","under","until","up","upon","us","use","used","uses","v","very","w","want","wanted","wanting","wants","was","way","ways","we","well","wells","went","were","what","when","whether","which","while","who","whole","whose","why","will","with","within","without","work","worked","working","works","would","x","y","year","years","yet","you","young","younger","youngest","your","yours","z"],o=function(){function n(n,s,o){s=o?t(s):s;var a="/search?",i="&q="+s,u=a+r(n)+i;return e.location.origin+u}function t(e){return e.toLowerCase().split(" ").filter(function(e){return-1===s.indexOf(e)}).join(" ")}function r(e){var n=[];return e.type&&n.push("type="+e.type),e.view&&n.push("view="+e.view),n.join("&")}function o(e){return function(n){!!e[n]&&e[n](arguments[1])}}function a(t,r){function s(e){return u=e}function a(n){var t=new e.XMLHttpRequest;t.open("GET",n,!0),t.onreadystatechange=function(n){if(4===t.readyState)if(200===t.status){var s=e.JSON.parse(t.responseText);l("success",t),r.displayResults(s),l("after")}else r.failure(t),l("after")},t.onerror=function(e){r.failure(t),l("after")},t.send()}function i(e){var s=n(t,e,u);r.clear(),l("before"),a(s)}var u=!1,l=o(r);return{search:i,setCleanQuery:s}}return{"new":a}}(),a=function(){function e(e){for(var n=e;n&&"FORM"!==n.nodeName;)n=n.parentNode;return n}function n(n,t){var r=e(n);r.onsubmit=function(e){e.preventDefault(),e.stopPropagation();var r=n.value;t.search(r)}}return{"new":function(e,t){return{init:function(){n(e,t)}}}}}(),i=function(){function e(e){throw new Error(e)}function n(n){n.type&&"text"===n.type||e("search bar must be of type='text'")}function t(n){for(var t=n;t&&"FORM"!==t.nodeName;)t=t.parentNode;t||e("search bar must be nested within a form element")}function r(n){n||e("Must provide a urlOpts arg"),"object"!=typeof n&&e("urlOpts must be an object"),n.view&&"string"==typeof n.view||e("urlOpts must have string 'view' property")}function s(n){n||e("Must provide a containerId arg"),"string"!=typeof n&&e("containerId must be a string")}return function(e,o,a){n(e),t(e),r(o),s(a)}}(),u=function(){function e(e,n){return function(t){return t.noResults&&n.setMessage("noResults",t.noResults),t.searchFailure&&n.setMessage("searchFailure",t.searchFailure),e}}function t(e,n){return function(t){return function(r){return n.setCallback(t,r),e}}}function s(e,n){return function(t){return"boolean"!=typeof t?Error("Must pass in a boolean value"):(n.setCleanQuery(t),e)}}function u(i,u,c){function h(){var n=t(i,d);i.messages=e(i,d),[l.before,l.after,l.success,l.failure,l.displayItem,l.noResults].forEach(function(e){i[e]=n(e)}),i.cleanQuery=s(i,g)}var f,d,g,p;return f=n.getElementById(c),d=r["new"](f),g=o["new"](u,d),p=a["new"](i,g),h(),p.init(),i}var l={before:"before",after:"after",success:"success",failure:"failure",displayItem:"displayItem",noResults:"noResults"};return function(e,n){return i(this,e,n),u(this,e,n)}}();try{var l=e.HTMLInputElement||e.document.createElement("INPUT").constructor;l.prototype.shopifySearchBar=u}catch(c){e.console.error("shopify-search-bar will not work in this browser!","Cannot access HTMLInputElement prototype:",c)}}(window,document);
